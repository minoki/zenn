---
title: "型とカインド"
---

型レベルプログラミングの話をする前に、型とカインドについて確認しておきましょう。

**真の型**（あるいは、狭義の型）とは、項を分類するものです。例えば、 `Integer` や `String` がこれに該当します。

一方、そのままでは項を分類せず、型を適用することによって初めて項を分類するようになる種類の型もあります。`Maybe` や `[]` は別の（真の）型に適用して初めて項を分類するようになります。

型引数を取る型にも種類があり、 `Maybe` はただ一つの型引数を取りますが、 `Either` はちょうど二つの型引数を取ります。

型を分類するものを**カインド**（kind; 「種」と訳されることもあります）と呼びます。カインドはいわば「型の型」です。真の型（項を分類する型）のカインドは `*` （スター）と表記されます。カインド `k1` の型を適用することでカインド `k2` の型が得られるような型のカインドは `k1 -> k2` です。

例えば、`Maybe` や `[]` のように型を一つ適用することで項を分類するようになる型のカインドは `* -> *` です。一方、 `Either` のカインドは `* -> * -> *` です。

GHCiでは `:kind` コマンドにより型のカインドを確認できます。いくつか見てみましょう。

```
ghci> :kind Int
Int :: *
ghci> :kind Maybe
Maybe :: * -> *
ghci> :kind Either
Either :: * -> * -> *
ghci> :kind []
[] :: * -> *
ghci> :kind (->)
(->) :: * -> * -> *
```

GHCiの `:kind` コマンドではデフォルトではカインドの表記に `*` を使いますが、NoStarIsType拡張を有効にすると `Type` を使うようになります。

```
ghci> :set -XNoStarIsType 
ghci> :kind Either
Either :: Type -> Type -> Type
```

古典的なHaskell（Haskell 2010）ではカインドは `*` と `->` からなるものだけですが、現代のGHCではそれ以外のカインドも使用できます（実際のところ、DataKinds拡張により任意のデータ型をカインドとして用いることができます）。詳しくは後述します。

古典的なHaskellでは狭義の型のカインドは `*` と表記されますが、現代のGHCでは型とカインドが統合されつつある関係で `*` という記号をカインドの名前として使用することが不便になってきました。そこで、GHC 8.0では狭義の型を表す名前として Data.Kind モジュールの `Type` が使えるようになりました。また、GHC 8.6で導入されたNoStarIsType拡張では `*` をカインドの名前として解釈しないようになります。

この本では、以後、狭義の型のカインドは `*` ではなく `Type` と表記します。

![項と型とカインド](/images/types-and-kinds.png)
